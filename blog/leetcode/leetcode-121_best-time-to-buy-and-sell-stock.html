<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><title>Leetcode 121 - Best Time to Buy and Sell Stock</title><meta name="description" content="Leetcode 121 - Best Time to Buy and Sell Stock"/><meta name="next-head-count" content="5"/><link rel="preload" href="/the-boring-guy/_next/static/css/9914142c09d3f7cd.css" as="style" crossorigin=""/><link rel="stylesheet" href="/the-boring-guy/_next/static/css/9914142c09d3f7cd.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/the-boring-guy/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/the-boring-guy/_next/static/chunks/webpack-946857b53aa543f8.js" defer="" crossorigin=""></script><script src="/the-boring-guy/_next/static/chunks/framework-5429a50ba5373c56.js" defer="" crossorigin=""></script><script src="/the-boring-guy/_next/static/chunks/main-6a8fb6472cab02f3.js" defer="" crossorigin=""></script><script src="/the-boring-guy/_next/static/chunks/pages/_app-fbd2d5010631dad4.js" defer="" crossorigin=""></script><script src="/the-boring-guy/_next/static/chunks/pages/blog/%5B...slug%5D-5dacc1f77f38b78d.js" defer="" crossorigin=""></script><script src="/the-boring-guy/_next/static/Cs35_8YN8duwyZvilGaep/_buildManifest.js" defer="" crossorigin=""></script><script src="/the-boring-guy/_next/static/Cs35_8YN8duwyZvilGaep/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><div class="flex flex-col min-h-screen dark:bg-gray-900"><header class="text-gray-600 dark:text-gray-400 body-font"><div class="container lg:w-4/6 mx-auto flex flex-wrap p-5 flex-col md:flex-row items-center"><a class="flex title-font font-medium items-center text-gray-900 dark:text-white mb-4 md:mb-0" href="/the-boring-guy"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="640" height="640" fill="currentColor" stroke="currentColor" class="w-14 h-14 text-gray-800 dark:text-white"><path d="M220.42 182.59C220.42 207.7 220.42 221.65 220.42 224.44C213.76 228.73 207.56 232.54 201.85 235.88C196.13 239.22 190.17 243.03 183.98 247.33C183.98 266 183.98 415.35 183.98 434.02C178.74 430.21 173.26 426.63 167.55 423.29C162.31 419.48 157.07 415.66 151.83 411.85C151.83 397.9 151.83 286.31 151.83 272.36C141.35 281.42 128.96 292.39 114.67 305.27C114.69 301.67 114.78 283.68 114.94 251.3L220.42 182.59Z" id="b156NBzAem"></path><path d="M250.2 162.69C278.67 144.3 295.94 132.22 321.17 116.86C347.63 133.4 368.63 148.72 392.34 162.88C392.38 171.19 392.57 212.74 392.9 287.52L364.37 317.85L392.9 347.44C392.9 425.43 392.9 468.76 392.9 477.43C363.9 496.33 342.69 509.55 321.23 523.24C279.79 497.25 274.07 491.69 250.33 477.22C250.31 414.31 250.22 225.6 250.2 162.69ZM357.62 361.49L332.09 335.6L286.3 335.6L286.3 462.85C307.92 474.13 319.93 480.4 322.33 481.65C341.44 470.65 343.52 469.94 357.62 462.85C357.62 449.33 357.62 415.55 357.62 361.49ZM357.62 176.73C337.16 163.77 328.72 158.71 321.78 153.82C319.42 155.35 307.59 162.98 286.3 176.73L286.3 300.09L304.32 300.09L332.09 300.09L357.62 273.46C357.62 221.87 357.62 189.63 357.62 176.73Z" id="a9qJES5Db"></path><path d="M421.79 182.28L524.14 249.29C524.14 273.69 524.14 287.24 524.14 289.95C498.51 271.4 477.08 253.72 452.86 235.69C452.86 240.24 452.86 262.98 452.86 303.93L452.86 339.23L452.86 398.75L492.78 373.74L492.78 352.56L465.82 352.56L465.82 318.05L511.36 318.05L523.75 318.05L523.75 342.37L524.14 390.47L421.68 458.04L421.79 182.28Z" id="a2IBnzQ9PQ"></path><path d="M319.94 34.36L33.04 214.01L33.04 427.26L319.94 608.52L608.5 427.26L608.5 214.01L319.94 34.36ZM320.34 43.36L598.62 218.39L598.62 421.29L320.34 596.99L42.06 421.29L42.06 218.39L320.34 43.36Z" id="a1VOhTsgCV"></path><path d="M319.85 0L0 199.24L0 438.8L319.85 640L640 438.8L640 199.24L319.85 0ZM320.29 13.33L628.71 207.31L628.71 432.18L320.29 626.91L11.87 432.18L11.87 207.31L320.29 13.33Z" id="ajyhWB7UU"></path></svg><span class="ml-3 text-xl">theBoringGuy</span></a><nav class="md:ml-auto flex flex-wrap items-center text-base justify-center"><a class="mr-5 font-semibold text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-200" href="/the-boring-guy">Home</a><a class="mr-5 font-semibold text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-200" href="/the-boring-guy/blog">Blog</a><a class="mr-5 font-semibold text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-200" href="/the-boring-guy/about">About</a><button aria-label="Toggle Dark Mode" type="button" class="w-8 h-8 p-1 ml-1 mr-1 rounded sm:ml-4 focus:outline-none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-yellow-500 dark:text-gray-100"><path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"></path></svg></button></nav></div></header><main class="flex-grow"><div class="container lg:w-4/6 mx-auto px-5 py-10 md:py-20 flex justify-center"><section><div class="text-left py-5 sm:px-5 text-5xl sm:text-6xl text-gray-900 dark:text-white font-semibold title-font mb-2 capitalize">Leetcode 121 - Best Time to Buy and Sell Stock</div><div class="flex flex-col content-center mt-10 sm:flex-row"><div class="sm:w-1/4 sm:pr-8 sm:py-8 divide-y-2"><div class="pb-6"><section><div class="inline-flex items-center text-gray-600 dark:text-gray-400"><span class="w-12 h-12 rounded-full flex justify-center items-center flex-shrink-0 object-cover object-center bg-gray-300 dark:bg-gray-800 uppercase dark:text-indigo-400">SR</span><span class="flex-grow flex flex-col pl-4"><span class="title-font font-medium text-gray-900 dark:text-white capitalize">Shashank Rawat</span><span class="text-xs tracking-widest mt-0.5"><span class="mt-1 text-sm mb-2">2021-06-03</span></span></span></div></section></div><div class="py-6"><div class="text-gray-600 dark:text-gray-400 text-xs tracking-widest mt-0.5"><span class="mt-1 text-sm mb-2">PREVIOUS ARTICLE</span></div><a class="font-semibold text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-200 inline-flex items-center" href="/the-boring-guy/blog/leetcode/leetcode-2_sum">Leetcode 1 - Two Sum</a></div><div class="py-6"><div class="text-gray-600 dark:text-gray-400 text-xs tracking-widest mt-0.5"><span class="mt-1 text-sm mb-2">NEXT ARTICLE</span></div><a class="font-semibold text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-200 inline-flex items-center" href="/the-boring-guy/blog/leetcode/leetcode-217_contains-duplicate">Leetcode 217 - Contains Duplicate</a></div></div><div class="sm:w-3/4 sm:pl-8 sm:py-8 border-gray-200 sm:border-t-0 border-t mt-4 pt-6 sm:mt-0 text-left"><div class="prose dark:prose-dark mx-auto max-w-xs sm:max-w-2xl lg:max-w-4xl lg:prose-xl xl:max-w-5xl"><p>**URL - ** <a href="//leetcode.com/problems/best-time-to-buy-and-sell-stock/">Best Time to Buy and Sell Stock</a></p>
<h3>Problem Statement</h3>
<p>You are given an array prices where prices[i] is the price of a given stock on the i&#x27;th day. You want to maximize your profit by choosing a single day to buy one stock and choosing a different day in the future to sell that stock. Return the maximum profit you can achieve from this transaction. If you cannot achieve any profit, return 0.</p>
<h3>Concept</h3>
<p>In this problem we need to find the max profit, which basically means, lower number from left and higher number from right. We will try to manage the lowest number and profit using <strong>Kadane’s</strong> algorithm.</p>
<p>Let’s initialize the number like below</p>
<pre><code class="language-python">min_val, profit = float(&#x27;inf&#x27;), 0
</code></pre>
<p>min_val is the float(‘inf’) because we are subtracting the min with current value (which gives as cur max vs profit which is max so far).</p>
<p>After this we will loop throughout the list and will try to find the current max and max so far, while maintain the min val.</p>
<pre><code class="language-python">for x in prices:
        profit = max(profit, x - min_val)
        min_val = min(x, min_val)
</code></pre>
<p>which will return the max profit after the loop, making sure we find the solution in one loop.</p>
<h3>Complexity</h3>
<p>Time : <strong>O(n)</strong> - Looping once</p>
<p>Space: <strong>O(2) =&gt; O(1)</strong> - since we are managing only two variables</p>
<h3>Code</h3>
<pre><code class="language-python">
def maxProfit(self, prices: List[int]) -&gt; int:
    min_val, profit = float(&#x27;inf&#x27;), 0
    for x in prices:
        profit = max(profit, x - min_val)
        min_val = min(x, min_val)
    return profit

</code></pre></div></div></div></section></div></main><footer class="text-gray-600 dark:text-gray-400 body-font"><div class="container lg:w-4/6 px-5 py-8 mx-auto flex items-center sm:flex-row flex-col"><p class="text-sm text-gray-500 dark:text-white sm:ml-4 sm:pl-4 sm:py-2 sm:mt-0 mt-4">Update ©  <!-- -->Feb 2024</p><span class="inline-flex sm:ml-auto sm:mt-0 mt-4 justify-center sm:justify-start"><a class="ml-3 text-gray-500 transition hover:text-gray-700 dark:hover:text-white" target="_blank" rel="noopener noreferrer" href="mailto:shashank17nov@gmail.com"><span class="sr-only">mail</span><svg viewBox="0 0 20 20" class="fill-current h-5 w-5 max-h-5 max-w-5"><path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path><path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path></svg></a><a class="ml-3 text-gray-500 transition hover:text-gray-700 dark:hover:text-white" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/rawat-shashank"><span class="sr-only">linkedin</span><svg viewBox="0 0 24 24" class="fill-current h-5 w-5 max-h-5 max-w-5"><title>LinkedIn icon</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></a><a class="ml-3 text-gray-500 transition hover:text-gray-700 dark:hover:text-white" target="_blank" rel="noopener noreferrer" href="https://github.com/rawat-shashank"><span class="sr-only">github</span><svg viewBox="0 0 24 24" class="fill-current h-5 w-5 max-h-5 max-w-5"><title>GitHub icon</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a></span></div></footer></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"source":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    a: \"a\",\n    h3: \"h3\",\n    strong: \"strong\",\n    pre: \"pre\",\n    code: \"code\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.p, {\n      children: [\"**URL - ** \", _jsx(_components.a, {\n        href: \"//leetcode.com/problems/best-time-to-buy-and-sell-stock/\",\n        children: \"Best Time to Buy and Sell Stock\"\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Problem Statement\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"You are given an array prices where prices[i] is the price of a given stock on the i'th day. You want to maximize your profit by choosing a single day to buy one stock and choosing a different day in the future to sell that stock. Return the maximum profit you can achieve from this transaction. If you cannot achieve any profit, return 0.\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Concept\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"In this problem we need to find the max profit, which basically means, lower number from left and higher number from right. We will try to manage the lowest number and profit using \", _jsx(_components.strong, {\n        children: \"Kadane’s\"\n      }), \" algorithm.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Let’s initialize the number like below\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-python\",\n        children: \"min_val, profit = float('inf'), 0\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"min_val is the float(‘inf’) because we are subtracting the min with current value (which gives as cur max vs profit which is max so far).\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"After this we will loop throughout the list and will try to find the current max and max so far, while maintain the min val.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-python\",\n        children: \"for x in prices:\\n        profit = max(profit, x - min_val)\\n        min_val = min(x, min_val)\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"which will return the max profit after the loop, making sure we find the solution in one loop.\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Complexity\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Time : \", _jsx(_components.strong, {\n        children: \"O(n)\"\n      }), \" - Looping once\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Space: \", _jsx(_components.strong, {\n        children: \"O(2) =\u003e O(1)\"\n      }), \" - since we are managing only two variables\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Code\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-python\",\n        children: \"\\ndef maxProfit(self, prices: List[int]) -\u003e int:\\n    min_val, profit = float('inf'), 0\\n    for x in prices:\\n        profit = max(profit, x - min_val)\\n        min_val = min(x, min_val)\\n    return profit\\n\\n\"\n      })\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{"title":"Leetcode 121 - Best Time to Buy and Sell Stock","date":"2021-06-03","author":"Shashank Rawat","summary":"You are given an array prices where prices[i] is the price of a given stock on the i'th day. You want to maximize your profit by choosing a single day to buy one stock and choosing a different day in the future to sell that stock. Return the maximum profit you can achieve from this transaction. If you cannot achieve any profit, return 0."}},"frontMatter":{"title":"Leetcode 121 - Best Time to Buy and Sell Stock","date":"2021-06-03","author":"Shashank Rawat","summary":"You are given an array prices where prices[i] is the price of a given stock on the i'th day. You want to maximize your profit by choosing a single day to buy one stock and choosing a different day in the future to sell that stock. Return the maximum profit you can achieve from this transaction. If you cannot achieve any profit, return 0."},"prev":{"slug":"leetcode/leetcode-2_sum","title":"Leetcode 1 - Two Sum","date":"25 May 2021","author":"Shashank Rawat","summary":"Given an array of integers nums and an integer target, return indices of the two numbers such that they add up to target. You may assume that each input would have exactly one solution, and you may not use the same element twice. You can return the answer in any order."},"next":{"slug":"leetcode/leetcode-217_contains-duplicate","title":"Leetcode 217 - Contains Duplicate","date":"7 June 2021","author":"Shashank Rawat","summary":"Given an integer array nums, return true if any value appears at least twice in the array, and return false if every element is distinct."}},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["leetcode","leetcode-121_best-time-to-buy-and-sell-stock"]},"buildId":"Cs35_8YN8duwyZvilGaep","assetPrefix":"/the-boring-guy","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>